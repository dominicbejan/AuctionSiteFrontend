<div class="title-container">
  <div class="title-wrapper">
    <h2 class="section-title" [class.animate]="animate">
      Auctions for {{ categoryName }}
      <span class="underline"></span>
    </h2>
  </div>
</div>

<button (click)="goBack()" class="back-button">‚Üê Categorii</button>

<div class="auction-layout-3-cols">

  <!-- üî¥ COLONNA 1: Auctions Completed -->
  <div class="completed-auctions">
    <h3>Auctions Completed</h3>
    <div *ngFor="let auction of completedAuctions" class="completed-card">
      <p><strong>{{ auction.name }}</strong></p>
      <p><strong>Descriere:</strong> {{ auction.description }}</p>
      <p><strong>PromovatƒÉ:</strong> {{ auction.promoted }}</p>
      <p><strong>Start:</strong> {{ auction.startBiddingDate | date: 'shortDate' }}</p>
      <p><strong>End:</strong> {{ auction.endBiddingDate | date: 'shortDate' }}</p>
      <p><strong>Bought with price:</strong> {{ auction.boughtPrice }} EUR</p>
      <p><strong>Buyer:</strong> {{ auction.buyer }}</p>
    </div>
  </div>

  <!-- üü° COLONNA 2: Toate licita»õiile -->
  <div class="category-auctions">
    <h3>Toate Licita»õiile</h3>
    <div *ngFor="let auction of auctions" class="auction-card">
      <p><strong>{{ auction.name }}</strong></p>
      <p><strong>Descriere:</strong> {{ auction.description }}</p>
      <p><strong>PromovatƒÉ:</strong> {{ auction.promoted }}</p>
      <p><strong>Start:</strong> {{ auction.startBiddingDate | date: 'shortDate' }}</p>
      <p><strong>End:</strong> {{ auction.endBiddingDate | date: 'shortDate' }}</p>
      <p><strong>Pre»õ licita»õie ini»õial:</strong> {{ auction.bitNowPrice }} EUR</p>

      <div *ngIf="auction.buyNowPrice && auction.users?.accountName !== user?.accountName">
        <button class="primary-button" (click)="buyNow(auction)">
          Buy Now: {{ auction.buyNowPrice }} EUR
        </button>
      </div>

      <p><strong>NumƒÉr de vizualizƒÉri:</strong> {{ auction.numbersOfViews }}</p>
    </div>
  </div>

  <!-- üü¢ COLONNA 3: Licita»õii active -->
  <div class="active-auctions">
    <h3>Licita»õii active</h3>
    <div *ngFor="let auction of activeAuctions" class="active-card">
      <p><strong>{{ auction.name }}</strong></p>
      <p><strong>Start:</strong> {{ auction.startBiddingDate | date: 'shortDate' }}</p>
      <p><strong>End:</strong> {{ auction.endBiddingDate | date: 'shortDate' }}</p>
      <p><strong>Pre»õ curent:</strong> {{ auction.bitNowPrice }} EUR</p>

      <div class="bid-container">
        <input type="number" [(ngModel)]="auction.userBid" placeholder="Introdu suma" class="form-input" />
        <button class="form-button" (click)="bidNow(auction)">Bid Now</button>
      </div>
    </div>
  </div>
</div>
